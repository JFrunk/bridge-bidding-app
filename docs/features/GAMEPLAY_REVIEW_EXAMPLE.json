{
  "description": "Example AI Review Request during Gameplay Phase",
  "scenario": "User is playing 3NT as South. Several tricks have been played. User is unsure about their last play decision.",

  "review_request": {
    "timestamp": "2025-10-11T14:30:45.123456",
    "game_phase": "playing",

    "all_hands": {
      "comment": "These are the REMAINING cards in each hand (after some tricks have been played)",
      "North": {
        "cards": [
          {"rank": "Q", "suit": "♠"},
          {"rank": "A", "suit": "♥"},
          {"rank": "K", "suit": "♥"},
          {"rank": "5", "suit": "♦"},
          {"rank": "4", "suit": "♦"},
          {"rank": "3", "suit": "♦"},
          {"rank": "A", "suit": "♣"},
          {"rank": "K", "suit": "♣"},
          {"rank": "Q", "suit": "♣"}
        ],
        "points": {
          "hcp": 15,
          "dist_points": 1,
          "total_points": 16,
          "suit_hcp": {"♠": 2, "♥": 7, "♦": 0, "♣": 6},
          "suit_lengths": {"♠": 1, "♥": 2, "♦": 3, "♣": 3}
        }
      },
      "East": {
        "cards": [
          {"rank": "T", "suit": "♠"},
          {"rank": "9", "suit": "♠"},
          {"rank": "Q", "suit": "♥"},
          {"rank": "J", "suit": "♥"},
          {"rank": "T", "suit": "♥"},
          {"rank": "Q", "suit": "♦"},
          {"rank": "9", "suit": "♣"},
          {"rank": "8", "suit": "♣"},
          {"rank": "7", "suit": "♣"}
        ],
        "points": {
          "hcp": 8,
          "dist_points": 1,
          "total_points": 9,
          "suit_hcp": {"♠": 0, "♥": 4, "♦": 2, "♣": 2},
          "suit_lengths": {"♠": 2, "♥": 3, "♦": 1, "♣": 3}
        }
      },
      "South": {
        "cards": [
          {"rank": "8", "suit": "♠"},
          {"rank": "7", "suit": "♠"},
          {"rank": "9", "suit": "♥"},
          {"rank": "8", "suit": "♥"},
          {"rank": "7", "suit": "♥"},
          {"rank": "J", "suit": "♦"},
          {"rank": "T", "suit": "♦"},
          {"rank": "5", "suit": "♣"},
          {"rank": "4", "suit": "♣"}
        ],
        "points": {
          "hcp": 2,
          "dist_points": 1,
          "total_points": 3,
          "suit_hcp": {"♠": 0, "♥": 0, "♦": 1, "♣": 1},
          "suit_lengths": {"♠": 2, "♥": 3, "♦": 2, "♣": 2}
        }
      },
      "West": {
        "cards": [
          {"rank": "5", "suit": "♠"},
          {"rank": "4", "suit": "♠"},
          {"rank": "6", "suit": "♥"},
          {"rank": "5", "suit": "♥"},
          {"rank": "8", "suit": "♦"},
          {"rank": "7", "suit": "♦"},
          {"rank": "6", "suit": "♦"},
          {"rank": "J", "suit": "♣"},
          {"rank": "T", "suit": "♣"}
        ],
        "points": {
          "hcp": 1,
          "dist_points": 0,
          "total_points": 1,
          "suit_hcp": {"♠": 0, "♥": 0, "♦": 0, "♣": 1},
          "suit_lengths": {"♠": 2, "♥": 2, "♦": 3, "♣": 2}
        }
      }
    },

    "auction": [
      {"bid": "Pass", "explanation": "Not enough strength to open (10 HCP)"},
      {"bid": "1NT", "explanation": "Balanced hand with 15-17 HCP opens 1NT"},
      {"bid": "Pass", "explanation": "Not enough to compete (3 HCP)"},
      {"bid": "Pass", "explanation": "Weak hand, no reason to bid"},
      {"bid": "3NT", "explanation": "16 HCP + partner's 15-17 = game"},
      {"bid": "Pass", "explanation": "Accept game contract"},
      {"bid": "Pass", "explanation": "Accept game contract"},
      {"bid": "Pass", "explanation": "Accept game contract"}
    ],

    "vulnerability": "None",
    "dealer": "North",
    "user_position": "South",
    "user_concern": "Should I have finessed the Queen of diamonds or played for the drop?",

    "play_data": {
      "contract": {
        "level": 3,
        "strain": "NT",
        "declarer": "S",
        "doubled": 0,
        "string": "3NT by S"
      },

      "dummy": "N",
      "opening_leader": "W",
      "dummy_revealed": true,
      "is_complete": false,
      "next_to_play": "E",

      "tricks_won": {
        "N": 2,
        "E": 1,
        "S": 1,
        "W": 0
      },

      "tricks_taken_ns": 3,
      "tricks_taken_ew": 1,

      "trick_history": [
        {
          "comment": "Trick 1: Opening lead",
          "leader": "W",
          "winner": "N",
          "cards": [
            {"card": {"rank": "3", "suit": "♠"}, "player": "W"},
            {"card": {"rank": "A", "suit": "♠"}, "player": "N"},
            {"card": {"rank": "J", "suit": "♠"}, "player": "E"},
            {"card": {"rank": "6", "suit": "♠"}, "player": "S"}
          ]
        },
        {
          "comment": "Trick 2: Dummy led back to declarer's hand",
          "leader": "N",
          "winner": "S",
          "cards": [
            {"card": {"rank": "J", "suit": "♣"}, "player": "N"},
            {"card": {"rank": "6", "suit": "♣"}, "player": "E"},
            {"card": {"rank": "3", "suit": "♣"}, "player": "S"},
            {"card": {"rank": "2", "suit": "♣"}, "player": "W"}
          ]
        },
        {
          "comment": "Trick 3: Declarer led a diamond, East won with King",
          "leader": "S",
          "winner": "E",
          "cards": [
            {"card": {"rank": "9", "suit": "♦"}, "player": "S"},
            {"card": {"rank": "2", "suit": "♦"}, "player": "W"},
            {"card": {"rank": "A", "suit": "♦"}, "player": "N"},
            {"card": {"rank": "K", "suit": "♦"}, "player": "E"}
          ]
        },
        {
          "comment": "Trick 4: East switched to hearts, North won with Ace",
          "leader": "E",
          "winner": "N",
          "cards": [
            {"card": {"rank": "4", "suit": "♥"}, "player": "E"},
            {"card": {"rank": "2", "suit": "♥"}, "player": "S"},
            {"card": {"rank": "3", "suit": "♥"}, "player": "W"},
            {"card": {"rank": "A", "suit": "♥"}, "player": "N"}
          ]
        }
      ],

      "current_trick": [
        {
          "comment": "Trick 5 in progress: North (dummy) led a club",
          "card": {"rank": "T", "suit": "♣"},
          "player": "N"
        }
      ],

      "analysis_context": {
        "tricks_needed": 9,
        "tricks_made_so_far": 3,
        "tricks_still_needed": 6,
        "tricks_remaining": 9,
        "declarer_can_still_make_it": true,
        "key_decision_point": "Diamond finesse decision on trick 3"
      }
    }
  },

  "generated_prompt": "Please analyze this bridge hand including both auction and card play according to SAYC.\n\n**Hand Data:**\n[Full JSON above]\n\n**User's Concern:** Should I have finessed the Queen of diamonds or played for the drop?\n\nPlease provide a detailed analysis of:\n1. The auction - was 3NT the right contract?\n2. The opening lead - was it optimal?\n3. The play of the first 4 tricks\n4. Specifically address the diamond finesse decision on trick 3\n5. Best line of play from the current position\n6. Whether the contract is still makeable",

  "what_ai_can_analyze": [
    "Original hand distribution (can be reconstructed from remaining cards + trick history)",
    "Bidding sequence and whether 3NT was correct",
    "Opening lead selection and defensive strategy",
    "Complete play sequence through 4 tricks",
    "Card location inferences from plays made",
    "The specific diamond finesse decision",
    "Current position with 9 tricks remaining",
    "Probability of making contract from here",
    "Alternative play lines that would have been better",
    "Optimal continuation from current position"
  ],

  "benefits": [
    "Complete game context for meaningful analysis",
    "Can review past decisions with full information",
    "Understand consequences of each play",
    "Learn optimal play techniques",
    "Get specific feedback on user's concern",
    "Historical record for later study"
  ]
}
